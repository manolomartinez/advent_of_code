lines â† â€¢file.Lines ("./input.txt") 
columns â† â‰ lines
rows â† â‰ âŠ‘lines
map â† columnsâ€¿rowsâ¥Šâˆ¾ lines
init_coords â† â¥Š> /â—‹â¥ŠâŸœâ†•âŸœâ‰¢ 'S' = map
pipes â† "|-LJ7F"
movements â† âŸ¨âŸ¨âŸ¨Â¯1, 0âŸ©, âŸ¨1, 0âŸ©âŸ©, âŸ¨âŸ¨0, 1âŸ©, âŸ¨0, Â¯1âŸ©âŸ©, âŸ¨âŸ¨Â¯1, 0âŸ©, âŸ¨0, 1âŸ©âŸ©, âŸ¨âŸ¨Â¯1, 0âŸ©, âŸ¨0, Â¯1âŸ©âŸ©, âŸ¨âŸ¨1, 0âŸ©, âŸ¨0, Â¯1âŸ©âŸ©, âŸ¨âŸ¨1, 0âŸ©, âŸ¨0, 1âŸ©âŸ©, âŸ¨âŸ©âŸ©
manhattan â† <Ë˜(âŒ½Ë˜âŠ¸âˆ¾)Â¯1âŠ¸Ã—âŠ¸â‰âŸ¨1, 0âŸ© # Manhattan neighborhood

# Part 1
Connected â† {
  pipe â† ğ•© âŠ‘ map
 ((âŠ‘â¥Š pipes âŠ pipe) âŠ‘ movements) + <ğ•©
}
# This is one beginning of the loop
beginning â† init_coords {âŸ¨ğ•¨âŸ©âˆ¾<âŠ‘(>(<ğ•¨)âŠ¸âˆŠÂ¨ ConnectedÂ¨ ğ•© + <ğ•¨) / ğ•© + <ğ•¨} manhattan
NextStep â† {
  counterâ€¿path â† ğ•©
  âŸ¨â‰ path, path âˆ¾ (Â¬(Connected Â¯1âŠ‘path) âˆŠ path) / (Connected Â¯1âŠ‘path)âŸ©
}
âŸ¨counter,loopâŸ© â† NextStep â€¢_while_ {(âŠ‘ğ•©) < â‰ Â¯1âŠ‘ğ•©} 0â€¿beginning
â€¢Show âŒŠÃ·âŸœ2 counter

# Part 2

loop_in_map â† Â¬(â†•â‰¢map) âˆŠ loop
not_in_loop â† (Â¬âˆ˜âˆŠâŸœloop)âŠ¸/(â¥Šâ†•â‰¢map)
operations â† âŸ¨â¥Šâˆ˜<âˆ˜âŠ¢, â¥Šâˆ˜<âˆ˜âŠ¢, <Ë˜âˆ˜(âŠ¢â‰-âˆ˜âŒ½), <Ë˜âˆ˜(âŠ¢â‰âŒ½), <Ë˜âˆ˜(âŠ¢â‰-âˆ˜âŒ½), <Ë˜âˆ˜(âŠ¢â‰âŒ½)âŸ©
# follow the inside of the loop
# First, make the loop start after the first '-' tile
first_horizontal â† (âŠ‘ (loop âŠ‘ map) âŠ '-') # position of the first '-' tile 
one_end â† first_horizontal â†“ loop # from first_horizontal to one end of the loop
other_end â† âŒ½1â†“ (first_horizontal + 1) â†‘ loop # from first_horizontal to the other end of the loop, without the S

Complete â† {
 {âŸ¨â‰ 1âŠ‘ğ•©, â· âˆŠâŸœnot_in_loopâŠ¸/ ((1âŠ‘ğ•©) âˆ¾ â¥Š (1âŠ‘ğ•©) +âŒœ manhattan)âŸ©} â€¢_while_ {âŠ‘ğ•© < â‰ 1âŠ‘ğ•©} 0âˆ¾<ğ•©
}

ChangeOrientation â† {
  (âŠ‘pipesâŠğ•©)â—¶operations Â¯1âŠ‘ğ•¨
}

FollowLoopOne â† {
  âˆ¾Â´ ğ•© <âŠ¸+Â¨ (<âŸ¨âŸ¨Â¯1, 0âŸ©âŸ©) ChangeOrientation` ğ•© âŠ‘ map
}
FollowLoopOther â† {
  âˆ¾Â´ ğ•© <âŠ¸+Â¨ (<âŸ¨âŸ¨1, 0âŸ©âŸ©) ChangeOrientation` ğ•© âŠ‘ map
}

one â† (â†•â‰¢map) âˆŠ1âŠ‘ Complete /â—‹â¥ŠâŸœ(â†•â‰¢) (loop_in_map âˆ§ (â†•â‰¢map) âˆŠ other_end âˆ¾â—‹FollowLoopOne one_end) 
other â† (â†•â‰¢map) âˆŠ1âŠ‘ Complete /â—‹â¥ŠâŸœ(â†•â‰¢) (loop_in_map âˆ§ (â†•â‰¢map) âˆŠ other_end âˆ¾â—‹FollowLoopOther one_end) 
some_outer_tiles â† {âˆ¨Â´ âŸ¨âˆ§`ğ•©, âŒ½âˆ§`âŒ½ ğ•©, â‰âˆ§`â‰ ğ•©, âŒ½Ë˜â‰âˆ§`â‰âŒ½Ë˜ ğ•©âŸ©}loop_in_map
â€¢Show +Â´+Ë (âˆ¨Â´âˆ¨Ë other âˆ§ some_outer_tiles) âŠ‘ âŸ¨other, oneâŸ©
