a â† â€¢Import "../../../Project Euler/aux.bqn"
m â† â€¢Import "/home/manolo/Software/BQN_cosas/bqn-libs/matrix.bqn"
gâ†(âŠ‘Â¨â€¢HashMap 1âŠ¸âŠ‘Â¨)((Â¯1â†“âŠ‘)â‹ˆ1âŠ¸â†“)Â¨' 'âŠ¸a.SplitÂ¨ â€¢FLines "./input.txt" # graph

#gâ†(âŠ‘Â¨â€¢HashMap 1âŠ¸âŠ‘Â¨)((Â¯1â†“âŠ‘)â‹ˆ1âŠ¸â†“)Â¨' 'âŠ¸a.SplitÂ¨ â€¢FLines "./test2.txt" # graph
"out" g.Set âŸ¨âŸ©

p â† t â€¢Hashmap kâŠ¸{ğ•©/ğ•¨}Â¨ <Ë˜â‰ c {âˆ¨Â´ğ•©âŠ¸â‰¡Â¨ğ•¨}âŒœ t â† â·âˆ¾Â´ câ† g.GetÂ¨ kâ†g.Keys 0 # parents
{c â† g.Get ğ•©â‹„ğ•© g.Set 0â‹ˆc }Â¨g.Keys 0 # add a counter
#{nâ€¿câ†g.Get ğ•©â‹„ncâ†â‰ p.Get ğ•©â‹„ğ•© g.Set âŸ¨nc+n,câŸ©}Â¨ p.Keys 0
"you" g.Set 1â‹ˆ1âŠ‘ g.Get "you"
Add â† { # Add your distance to your children
  dâ€¿câ†g.Get ğ•© # distance and children
  {d2â€¿c2â†g.Get ğ•©â‹„ğ•© g.Set (d+d2)â‹ˆc2}Â¨c
}

Step â† {
  AddÂ¨ğ•©
  â·âˆ¾Â´1âŠ¸âŠ‘Â¨g.GetÂ¨ğ•©
}

Stepâ€¢_while_(0<â‰ ) â‹ˆ"you"
â€¢Show âŠ‘g.Get "out" # Part 1
Paths â† {
# Create the graph, using ğ•© as starting node
  #gâ†(âŠ‘Â¨â€¢HashMap 1âŠ¸âŠ‘Â¨)((Â¯1â†“âŠ‘)â‹ˆ1âŠ¸â†“)Â¨' 'âŠ¸a.SplitÂ¨ â€¢FLines "./input.txt" # graph
  gâ†(âŠ‘Â¨â€¢HashMap 1âŠ¸âŠ‘Â¨)((Â¯1â†“âŠ‘)â‹ˆ1âŠ¸â†“)Â¨' 'âŠ¸a.SplitÂ¨ â€¢FLines "./test3.txt" # graph
  "out" g.Set âŸ¨âŸ©
  {c â† g.Get ğ•©â‹„ğ•© g.Set 0â‹ˆc }Â¨g.Keys 0 # add a counter
  ğ•© g.Set 1â‹ˆ1âŠ‘ g.Get ğ•©
  g
}
Add2 â† { 
  # Add your distance to your children in graph ğ•¨
  gğ•Šn: # graph and node
  dâ€¿câ†g.Get n # distance and children
  {d2â€¿c2â†g.Get ğ•©â‹„ğ•© g.Set (d+d2)â‹ˆc2}Â¨c
}

Step2 â† {
  # Step in graph ğ•¨
  ğ•¨âŠ¸Add2Â¨ğ•©
  â€¢Show ğ•¨.GetÂ¨ ğ•¨.Keys 0
  â€¢Show â·âˆ¾Â´1âŠ¸âŠ‘Â¨ğ•¨.GetÂ¨ğ•©
}

Step3 â† {
  # Step in graph ğ•¨
  gğ•Šn: #graph and node
  dâ€¿câ†(âŠ‘Â¨â‹ˆ1âŠ¸âŠ‘Â¨)g.GetÂ¨n # original distances and sets of children
  d{odğ•Šsc:{d2â€¿c2â†g.Get ğ•©â‹„ğ•© g.Set (od+d2)â‹ˆc2}Â¨sc}Â¨c
  â€¢Show ğ•¨.GetÂ¨ ğ•¨.Keys 0
  â€¢Show â·âˆ¾Â´1âŠ¸âŠ‘Â¨ğ•¨.GetÂ¨ğ•©
}

svr â† Paths "svr"
svr.Get "fft"
dac â† Paths "dac"
dac.Get "fft"
fft â† Paths "fft"
fft.Get "out"


â€¢Show svr.GetÂ¨ svr.Keys 0
svrâŠ¸Step3â€¢_while_(0<â‰ ) â‹ˆ"svr"
dacâŠ¸Step3â€¢_while_(0<â‰ ) â‹ˆ"dac"
fftâŠ¸Step3â€¢_while_(0<â‰ ) â‹ˆ"fft"
sdâ†âŠ‘svr.Get "dac"
sfâ†âŠ‘svr.Get "fft"
fdâ†âŠ‘fft.Get "dac"
dfâ†âŠ‘dac.Get "fft"
doâ†âŠ‘dac.Get "out"
foâ†âŠ‘fft.Get "out"

sf
do
Ã—Â´sfâ€¿fdâ€¿do
a.MultÂ´ a.NumtoListÂ¨ sfâ€¿fdâ€¿do
